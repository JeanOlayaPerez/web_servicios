* { box-sizing: border-box; }
html, body, #root { height: 100%; }
:root { --header-offset: clamp(118px, 16vw, 164px); }
@media (max-width: 960px) {
  :root { --header-offset: clamp(140px, 22vw, 196px); }
}
@media (max-width: 720px) {
  :root { --header-offset: clamp(168px, 30vw, 228px); }
}
@media (max-width: 540px) {
  :root { --header-offset: clamp(192px, 36vw, 256px); }
}
body {
  margin: 0;
  font-family: 'Outfit', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--fg);
  background: #0b1220;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

/* Layout principal con scroll-snap */
.viewport {
  height: 100svh;
  height: 100dvh;
  overflow-y: auto;
  overflow-x: hidden;
  scroll-snap-type: y mandatory;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  scroll-padding-top: calc(var(--header-offset) + 28px);
}

.section {
  position: relative;
  min-height: 100svh;
  min-height: 100dvh;
  display: grid;
  place-items: center;
  padding: 72px clamp(34px, 10vw, 120px) 48px clamp(34px, 10vw, 120px);
  scroll-snap-align: start;
  scroll-snap-stop: always;
  isolation: isolate;
  overflow-x: hidden;
  scroll-margin-top: calc(var(--header-offset) + 16px);
}
.viewport > .section:first-of-type {
  padding-top: calc(var(--header-offset) + clamp(48px, 9vw, 96px));
}
.section-standalone {
  min-height: auto;
  padding-top: calc(var(--header-offset) + 48px);
  padding-bottom: clamp(72px, 16vw, 120px);
}
@media (max-width: 720px) {
  .section-standalone {
    padding-top: calc(var(--header-offset) + 36px);
  }
}

.content {
  width: min(100%, 920px);
  max-width: 920px;
  margin: 0 auto;
  text-align: center;
}
.viewport .content {
  position: relative;
  box-sizing: border-box;
  background: rgba(12, 18, 34, 0.52);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: clamp(22px, 5vw, 36px);
  padding: clamp(28px, 7vw, 56px);
  box-shadow: 0 28px 90px rgba(5, 12, 24, 0.45);
  backdrop-filter: blur(18px);
}
.viewport .content > *:first-child { margin-top: 0; }
.viewport .content > *:last-child { margin-bottom: 0; }
.title { font-size: clamp(28px, 5.6vw, 44px); line-height: 1.12; margin: 0 0 8px; }
.subtitle { color: var(--muted); margin: 0 0 20px; font-size: clamp(15px, 3.6vw, 18px); }
.accent { color: var(--accent); text-shadow: 0 0 24px color-mix(in oklab, var(--accent), transparent 70%); }

.actions { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }
.btn { 
  display: inline-flex; align-items: center; justify-content: center;
  gap: 8px; padding: 12px 16px; border-radius: 14px; 
  color: var(--fg); text-decoration: none; font-weight: 600; 
  background: var(--btn-bg); border: 1px solid var(--btn-border);
  backdrop-filter: saturate(120%) blur(6px);
  transition: transform .15s ease, background .25s ease, border-color .25s ease;
}
.btn:hover { transform: translateY(-1px); background: var(--btn-bg-hover); }
.btn:active { transform: translateY(0); }
.btn.cta { background: linear-gradient(135deg, var(--accent), color-mix(in oklab, var(--accent), white 20%)); color: #0a1020; border-color: transparent; }
.btn.ghost { background: transparent; }
.btn.small { padding: 8px 12px; font-size: 14px; }
@keyframes headerGlow {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
/* UI fija */
.ui { position: fixed; inset: 0 0 auto 0; width: 100%; pointer-events: none; z-index: 50; }
.ui-bar {
  width: min(100% - clamp(32px, 10vw, 120px), 1080px);
  margin: clamp(20px, 6vw, 44px) auto 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: clamp(18px, 5vw, 42px);
  padding: clamp(12px, 2.6vw, 20px) clamp(18px, 5vw, 32px);
  border-radius: 26px;
  background: linear-gradient(135deg, rgba(16, 24, 38, 0.82), rgba(12, 18, 30, 0.64));
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 18px 48px rgba(3, 8, 20, 0.35);
  backdrop-filter: saturate(160%) blur(18px);
  pointer-events: auto;
  position: relative;
  overflow: hidden;
}
.ui-bar::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: rgba(12, 18, 30, 0.92);
  z-index: -2;
}
.ui-bar::after {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  background: conic-gradient(from 180deg, rgba(120,227,255,0.75), rgba(255,207,111,0.8), rgba(120,227,255,0.75), rgba(180,144,202,0.7));
  padding: 1.4px;
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask-composite: exclude;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  transform-origin: center;
  animation: headerGlow 14s linear infinite;
  z-index: -1;
  pointer-events: none;
}
@media (prefers-reduced-motion: reduce) {
  .ui-bar::after { animation: none; }
}
.ui-brand {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-size: clamp(16px, 3vw, 19px);
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  text-decoration: none;
  color: var(--fg);
}
.ui-brand span {
  background: linear-gradient(130deg, var(--accent), color-mix(in oklab, var(--accent), #ffffff 12%));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}
.ui-brand .icon-home {
  width: 28px;
  height: 28px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 10px;
  background: color-mix(in oklab, var(--accent), transparent 68%);
  color: var(--fg);
  box-shadow: 0 6px 18px rgba(10, 16, 32, 0.35);
}
.ui-brand .icon-home svg {
  width: 18px;
  height: 18px;
}
.is-night .ui-brand .icon-home {
  background: color-mix(in oklab, var(--accent), transparent 52%);
}
.ui-nav {
  display: flex;
  align-items: center;
  gap: clamp(14px, 4vw, 34px);
}
.ui-nav-link {
  position: relative;
  font-weight: 600;
  color: var(--muted);
  text-decoration: none;
  transition: color .2s ease;
  padding: 6px 0;
}
.ui-nav-link::after {
  content: "";
  position: absolute;
  inset: auto 0 -10px 0;
  height: 2px;
  border-radius: 999px;
  background: color-mix(in oklab, var(--accent), transparent 40%);
  transform: scaleX(0);
  transform-origin: center;
  transition: transform .2s ease;
}
.ui-nav-link:hover,
.ui-nav-link:focus-visible {
  color: var(--fg);
}
.ui-nav-link:hover::after,
.ui-nav-link:focus-visible::after {
  transform: scaleX(1);
}
.ui-nav-link.active {
  color: var(--fg);
}
.ui-nav-link.active::after {
  transform: scaleX(1);
}
.ui-controls {
  display: flex;
  gap: 10px;
  pointer-events: auto;
}
.ui-brand:focus-visible,
.ui-nav-link:focus-visible {
  outline: 2px solid color-mix(in oklab, var(--accent), white 20%);
  outline-offset: 6px;
  border-radius: 999px;
}
.ui-nav-link:focus-visible { padding-inline: 6px; }

@media (max-width: 920px) {
  .ui-bar {
    gap: 20px;
    padding: 14px clamp(16px, 6vw, 26px);
    width: min(100% - clamp(20px, 8vw, 64px), 680px);
  }
  .ui-nav {
    gap: clamp(12px, 8vw, 28px);
    flex-wrap: wrap;
    justify-content: center;
  }
}

@media (max-width: 780px) {
  .ui-nav {
    gap: clamp(12px, 10vw, 32px);
  }
  .ui-nav-link {
    padding: 6px 4px;
  }
}

@media (max-width: 640px) {
  .ui-bar {
    flex-wrap: wrap;
    justify-content: space-between;
    row-gap: 12px;
  }
  .ui-brand { order: 1; }
  .ui-controls { order: 2; margin-left: auto; }
  .ui-nav {
    order: 3;
    width: 100%;
    justify-content: center;
    gap: clamp(18px, 10vw, 32px);
  }
}
.btn-toggle { width: 44px; height: 44px; border-radius: 12px; position: relative; box-shadow: 0 4px 14px rgba(0,0,0,.25); }
.btn-toggle .icon { position: absolute; inset: 0; display: grid; place-items: center; transition: opacity .25s ease, transform .25s ease; }
.btn-toggle .sun { opacity: 1; }
.btn-toggle .moon { opacity: 0; transform: scale(.9) rotate(-12deg); }
.is-night .btn-toggle .sun { opacity: 0; transform: scale(.9) rotate(12deg); }
.is-night .btn-toggle .moon { opacity: 1; transform: scale(1) rotate(0); }

.nav-dots { position: fixed; left: clamp(18px, 7vw, 42px); top: 50%; transform: translateY(-50%); display: flex; flex-direction: column; gap: 12px; z-index: 40; pointer-events: auto; }
.nav-dots .dot { width: 10px; height: 10px; border-radius: 999px; background: rgba(255,255,255,.35); display: block; border: 2px solid rgba(255,255,255,.5); transition: transform .2s ease, background .2s ease; }
.nav-dots .dot:hover { transform: scale(1.2); }
.nav-dots .dot.active { background: var(--accent); border-color: color-mix(in oklab, var(--accent), #fff 20%); }
/* Dot a otra ruta */
.nav-dots .dot.route { background: rgba(255,255,255,.2); border-color: rgba(255,255,255,.5); }
.nav-dots .dot.route.active { background: var(--accent); }
@media (max-width: 480px) { .nav-dots { left: 14px; } }

/* Sección: fondos */
.bg { position: absolute; inset: 0; overflow: hidden; z-index: -1; }

/* Espacio */
.space-bg {
  background: radial-gradient(140% 90% at 50% -10%, var(--space-2) 0%, var(--space-3) 60%, var(--space-1) 100%);
}
.stars { position: absolute; inset: -10% -10% 0 -10%; }
.stars span { position: absolute; display: block; background: radial-gradient(circle, #fff, rgba(255,255,255,.1)); border-radius: 50%; opacity: .75; animation: twinkle linear infinite; }
.is-night .stars span { opacity: .95; }
@keyframes twinkle { 0%,100%{ opacity:.6 } 50%{ opacity:1 } }

.planet { position: absolute; left: 50%; bottom: 12%; transform: translateX(-50%); width: min(54vw, 300px); height: min(54vw, 300px); border-radius: 50%; background: radial-gradient(120% 120% at 30% 30%, #ffe29a 0%, #ff8f8f 40%, #7a6bff 75%, #2e2b87 100%); box-shadow: 0 40px 120px rgba(122,107,255,.35), inset -18px -24px 40px rgba(0,0,0,.28); animation: floaty 6s ease-in-out infinite; }
@keyframes floaty { 0%,100%{ transform: translate(-50%, 0) } 50%{ transform: translate(-50%, -8px) } }

/* Cielo */
.sky-bg { background: linear-gradient(180deg, var(--sky-1), var(--sky-2) 50%, var(--sky-3)); }
.is-night .sky-bg { --sky-1: #2b3e66; --sky-2: #192a4a; --sky-3: #0f1b33; }
/* Nubes compuestas con lóbulos */
.ncloud { position: absolute; filter: drop-shadow(0 4px 12px rgba(0,0,0,.08)); animation: breeze linear infinite; }
.ncloud::before, .ncloud::after { content: ""; position: absolute; border-radius: 999px; background: radial-gradient(closest-side, rgba(255,255,255,.98), rgba(255,255,255,.25)); }
.ncloud { width: 46vw; height: 18vw; left: -10%; top: 10%; }
.ncloud::before { width: 22vw; height: 14vw; left: 10vw; top: -4vw; }
.ncloud::after { width: 18vw; height: 12vw; left: 24vw; top: -2vw; }
.ncloud.n1 { animation-duration: 40s; }
.ncloud.n2 { top: 36%; left: 60%; width: 40vw; height: 16vw; animation-duration: 46s; }
.ncloud.n3 { top: 62%; left: -6%; width: 38vw; height: 15vw; animation-duration: 54s; }
@keyframes breeze { 0% { transform: translateX(0) } 100% { transform: translateX(-30vw) } }

/* Aves */
.birds { position: absolute; top: 18%; left: -20%; width: 120vw; height: 30vh; pointer-events: none; }
.bird { position: absolute; width: 18px; height: 12px; background: transparent; }
.bird::before, .bird::after { content:""; position: absolute; top: 50%; width: 10px; height: 2px; background: var(--fg); transform-origin: left center; animation: flap .6s ease-in-out infinite; }
.bird::before { left: 0; transform: rotate(18deg); }
.bird::after { left: 0; transform: rotate(-18deg); animation-delay: .1s; }
@keyframes flap { 0%,100%{ transform: rotate(18deg) } 50%{ transform: rotate(-18deg) } }
.birds .bird { animation: fly 24s linear infinite; }
@keyframes fly { 0%{ transform: translateX(0) translateY(0) } 100%{ transform: translateX(120vw) translateY(-6vh) } }
.bird.black::before, .bird.black::after { background: #151515; }

/* Montañas */
.mountains-bg { background: radial-gradient(110% 90% at 60% -10%, #8dd7ff 0%, #6a7dff 45%, #28346d 80%, #121a32 100%); }
.is-night .mountains-bg { background: radial-gradient(110% 90% at 60% -10%, #2b3569 0%, #1b234a 45%, #0b1329 80%, #050913 100%); }
.mountains-svg { position: absolute; inset: auto 0 0 0; width: 100%; height: 52%; }
.is-night { --mtn-top: #71839a; --mtn-base: #435369; }
/* Suave scrim para texto */
.mountains-bg::after { content:""; position: absolute; inset: 0; background: linear-gradient(180deg, rgba(10,16,32,0) 0%, rgba(10,16,32,.06) 50%, rgba(10,16,32,.12) 100%); pointer-events: none; }
/* Montañas en skills (capa baja) */
.mountains-skill { position: absolute; inset: auto 0 0 0; width: 100%; height: 44%; opacity: .9; }

/* Bosque */
.forest-bg { background: linear-gradient(180deg, var(--forest-1), var(--forest-2) 50%, var(--forest-3)); }
.is-night .forest-bg { --forest-1: #244a47; --forest-2: #1d3c39; --forest-3: #152e2c; }
.trees { position: absolute; inset: auto 0 0 0; height: 50%; display: grid; grid-auto-flow: column; align-items: end; justify-content: space-around; padding: 0 10%; }
.tree { width: 0; height: 0; border-left: 28px solid transparent; border-right: 28px solid transparent; border-bottom: 70px solid #2f6b56; filter: drop-shadow(0 8px 10px rgba(0,0,0,.25)); animation: sway 3s ease-in-out infinite; }
.tree::after { content:""; display:block; width: 20px; height: 18px; background:#2a5a49; transform: translate(-10px, 4px); }
.is-night .tree { border-bottom-color: #214b3e; }
@keyframes sway { 0%,100%{ transform: translateY(0) } 50%{ transform: translateY(2px) } }

/* Skills */
.skills { list-style: none; padding: 0; margin: 18px auto 0; display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; max-width: 760px; }
.chip { padding: 10px 12px; background: var(--btn-bg); border: 1px solid var(--btn-border); border-radius: 999px; font-weight: 600; color: var(--fg); transition: transform .18s ease, background .25s ease; }
.chip:hover { transform: translateY(-2px); background: var(--btn-bg-hover); }

/* Skill meters */
.skill-grid {
  display: grid;
  gap: 18px;
  width: min(100%, 960px);
  margin: 22px auto 0;
  padding: 0 6px;
  grid-template-columns: repeat(3, minmax(0, 1fr));
}
@media (max-width: 900px) {
  .skill-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 600px) {
  .skill-grid { grid-template-columns: 1fr; padding: 0 4px; }
}
.skills-standalone .content { max-width: 1040px; }
.projects-standalone .content { max-width: 1080px; }
.skill {
  min-width: 0;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.18);
  border-radius: 12px;
  padding: 14px 16px;
  text-align: left;
  backdrop-filter: blur(6px);
}
.skill-head { display: flex; justify-content: space-between; align-items: center; font-weight: 700; margin-bottom: 10px; font-size: 15px; gap: 12px; }
.skill-label { display: inline-flex; align-items: center; gap: 10px; font-weight: 700; }
.skill-icon { display: inline-flex; align-items: center; justify-content: center; }
.skill-token {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 32px;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 12px;
  letter-spacing: 0.04em;
  font-weight: 700;
  text-transform: uppercase;
  background: rgba(255,255,255,.12);
  color: var(--fg);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.18);
}
.skill-token.react { font-size: 14px; }
.skill-token.js { background: linear-gradient(135deg, #f6d365, #fda085); color: #1b1b1b; }
.skill-token.ts { background: linear-gradient(135deg, #408ef5, #67b4ff); color: #ecf2ff; }
.skill-token.react { background: linear-gradient(135deg, #60d3ff, #48a1ff); color: #05182c; }
.skill-token.node { background: linear-gradient(135deg, #5bd081, #3fa86e); color: #04160b; }
.skill-token.css { background: linear-gradient(135deg, #ff9d6c, #ffd16f); color: #20110a; }
.skill-token.python { background: linear-gradient(135deg, #61daf8, #4f8eda); color: #0a1b3a; }
.skill-token.sql { background: linear-gradient(135deg, #c996ff, #7a5dfb); color: #f7edff; }
.skill-token.git { background: linear-gradient(135deg, #ff9966, #ff5e62); color: #fff2f0; }
.skill-token.flutter { background: linear-gradient(135deg, #5ee7df, #b490ca); color: #08142a; }
.skill-track { position: relative; height: 12px; border-radius: 999px; background: rgba(255,255,255,.08); overflow: hidden; }
.skill-bar { height: 100%; width: 0; background: linear-gradient(90deg, var(--accent), color-mix(in oklab, var(--accent), #fff 18%)); transition: width .9s cubic-bezier(.22,.8,.24,1); }

/* Hero: Sol/Luna y elementos espaciales */
.celestials { position: absolute; inset: 0; pointer-events: none; }
.celestials .sun, .celestials .moon { position: absolute; width: 64px; height: 64px; border-radius: 50%; pointer-events: auto; cursor: pointer; display: grid; place-items: center; font-size: 28px; user-select: none; }
.celestials .sun { right: 12px; top: 12px; background: radial-gradient(circle at 30% 30%, #fff1a8, #ffb84d 60%, #ff994d 100%); box-shadow: 0 0 40px rgba(255,184,77,.55); }
.celestials .moon { left: 12px; top: 18px; background: radial-gradient(circle at 30% 30%, #f0f3ff, #cbd3e7 60%, #90a0c8 100%); box-shadow: 0 0 30px rgba(144,160,200,.45) inset; }
.celestials .moon::after { content:""; width: 8px; height: 8px; border-radius: 50%; background: rgba(0,0,0,.15); transform: translate(8px, -8px); box-shadow: 12px 6px 0 rgba(0,0,0,.12), 4px 10px 0 rgba(0,0,0,.08); }

.spaces { position: absolute; inset: 0; overflow: hidden; pointer-events: none; }
.spaceship { position: absolute; width: 16px; height: 28px; background: linear-gradient(180deg, #d8e2ff, #8fa4ff); border-radius: 8px 8px 4px 4px; transform: rotate(12deg); filter: drop-shadow(0 4px 6px rgba(0,0,0,.25)); }
.spaceship::after { content:""; position: absolute; bottom: -8px; left: 50%; width: 6px; height: 10px; transform: translateX(-50%); background: linear-gradient(180deg, #ffd18a, rgba(255,255,255,0)); border-radius: 0 0 12px 12px; filter: blur(0.6px); }
.spaceship.fly1 { top: 40%; left: -10%; animation: ship 22s linear infinite; }
.spaceship.fly2 { top: 60%; left: -20%; animation: ship 30s linear infinite 4s; transform: rotate(0deg); }
.spaceship.fly3 { top: 20%; left: -15%; animation: ship 28s linear infinite 2s; transform: rotate(18deg); }
@keyframes ship { 0%{ transform: translateX(0) translateY(0) rotate(10deg) } 100%{ transform: translateX(140vw) translateY(-12vh) rotate(10deg) } }

.shooting-stars { position: absolute; inset: 0; pointer-events: none; }
.shooting-star { position: absolute; width: 2px; height: 2px; background: #fff; border-radius: 50%; box-shadow: 0 0 10px #fff; animation: shoot 1.2s ease-in forwards; }
.shooting-star::after { content:""; position: absolute; right: 100%; top: 50%; width: 120px; height: 1px; background: linear-gradient(90deg, #fff, transparent); transform: translateY(-50%); opacity: .9; }
@keyframes shoot { 0%{ transform: translate3d(0,0,0) } 100%{ transform: translate3d(60vw, -30vh, 0); opacity: 0 } }

.mini-planet { position: absolute; width: 14px; height: 14px; border-radius: 50%; background: radial-gradient(circle at 30% 30%, #ffe7a8, #ff8c8c); box-shadow: 0 0 16px rgba(255,140,140,.35); }
.mini-planet.p1 { left: 18%; top: 42%; }
.mini-planet.p2 { right: 18%; top: 34%; background: radial-gradient(circle at 30% 30%, #b6ffce, #6fd0a0); box-shadow: 0 0 16px rgba(111,208,160,.35); }

.constellation { position: absolute; right: 12%; top: 18%; width: 120px; height: 80px; opacity: .7; }
.constellation line, .constellation circle { stroke: rgba(255,255,255,.55); fill: rgba(255,255,255,.6); }
.constellation line { stroke-width: 1; stroke-dasharray: 4 3; }

/* Mejora de legibilidad en cielo (scrim) */
.sky-bg::after { content:""; position: absolute; inset: 0; background: linear-gradient(180deg, rgba(10,16,32,0) 0%, rgba(10,16,32,.08) 55%, rgba(10,16,32,.16) 100%); pointer-events: none; }
.is-night .sky-bg::after { background: linear-gradient(180deg, rgba(10,16,32,0) 0%, rgba(10,16,32,.04) 55%, rgba(10,16,32,.08) 100%); }

/* Avión pasando por el cielo */
.plane { position: absolute; width: 22px; height: 22px; background: linear-gradient(180deg, #e8ecf5, #a8b6d2); clip-path: polygon(0 50%, 60% 40%, 100% 0, 80% 50%, 100% 100%, 60% 60%); top: 22%; left: -10%; filter: drop-shadow(0 2px 6px rgba(0,0,0,.25)); animation: flyplane 36s linear infinite; }
@keyframes flyplane { 0%{ transform: translateX(0) translateY(0) } 100%{ transform: translateX(120vw) translateY(-8vh) } }

/* Carrusel y tarjetas de proyectos (glass) */
.card { flex: 0 0 82%; max-width: 420px; background: rgba(255,255,255,.08); border: 1px solid rgba(255,255,255,.22); border-radius: 16px; padding: 14px; scroll-snap-align: start; backdrop-filter: blur(10px) saturate(120%); transition: transform .18s ease, background .25s ease, border-color .25s ease; }
.card:hover { transform: translateY(-2px); background: rgba(255,255,255,.12); border-color: rgba(255,255,255,.32); }
.thumb { height: 140px; border-radius: 12px; background: linear-gradient(135deg, rgba(255,255,255,.2), rgba(255,255,255,.06)); margin-bottom: 10px; position: relative; overflow: hidden; }
.thumb::before { content:""; position:absolute; inset:-40% -40% auto auto; width:70%; height:180%; background: radial-gradient(circle at top left, rgba(255,255,255,.45), transparent 60%); transform: rotate(18deg); }
.card-title { margin: 8px 0 4px; font-size: 18px; }
.card-text { margin: 0 0 10px; color: var(--muted); }
.tags { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 10px; }
.tags span { font-size: 12px; padding: 6px 8px; border-radius: 999px; background: rgba(255,255,255,.08); border: 1px solid rgba(255,255,255,.18); }

/* Nieve y pinos en proyectos */
.snowflakes { position: absolute; inset: 0; pointer-events: none; }
.snowflakes span { position: absolute; top: -10px; left: 50%; width: 4px; height: 4px; background: #fff; border-radius: 50%; opacity: .9; animation: snow 10s linear infinite; filter: drop-shadow(0 0 6px rgba(255,255,255,.8)); }
@keyframes snow { 0%{ transform: translate3d(0, -10px, 0) } 100%{ transform: translate3d(-40vw, 100vh, 0); opacity: 0.2 } }
.pines { position: absolute; inset: auto 0 0 0; height: 36%; display: flex; justify-content: space-evenly; align-items: end; pointer-events: none; }
.pine { width: 0; height: 0; border-left: 24px solid transparent; border-right: 24px solid transparent; border-bottom: 60px solid #2e5146; filter: drop-shadow(0 6px 8px rgba(0,0,0,.35)); }
.pine.small { border-left-width: 18px; border-right-width: 18px; border-bottom-width: 46px; opacity: .85; }
.is-night .pine { border-bottom-color: #1e3a33; }
.project-moon {
  position: absolute;
  top: 16%;
  right: 16%;
  width: clamp(80px, 12vw, 160px);
  height: clamp(80px, 12vw, 160px);
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.95), rgba(164,196,255,.85) 45%, rgba(60,90,180,.65) 70%, rgba(24,32,74,.9) 100%);
  box-shadow: 0 0 60px rgba(120,227,255,.38), 0 0 140px rgba(120,227,255,.18);
  animation: moonPulse 9s ease-in-out infinite;
}
.project-orbit { position: absolute; inset: 0; pointer-events: none; }
.project-orbit span {
  position: absolute;
  top: calc(20% + 2% * var(--i, 1));
  left: calc(18% + 5% * var(--i, 1));
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: rgba(120,227,255,.78);
  box-shadow: 0 0 10px rgba(120,227,255,.9);
  opacity: .75;
  animation: orbitSpark 14s linear infinite alternate;
}
.project-orbit span:nth-child(odd) { background: rgba(255,207,111,.85); box-shadow: 0 0 12px rgba(255,207,111,.7); }

/* Servicios */
.services-group { margin-top: 34px; text-align: left; }
.services-group:first-of-type { margin-top: 24px; }
.group-header { margin-bottom: 14px; }
.group-header h3 { margin: 0 0 4px; font-size: clamp(18px, 4vw, 24px); }
.group-header p { margin: 0; color: var(--muted); font-size: clamp(14px, 3.4vw, 16px); }
.services-carousel { margin-top: 16px; }
.services-carousel .carousel { width: min(100%, 960px); padding: 0 clamp(20px, 7vw, 56px); }
.services-carousel .carousel-slide { padding: 0 clamp(8px, 3vw, 18px); }
.services-carousel .carousel-slide > .service-slide { width: 100%; }
.services-carousel .carousel button.nav { width: 40px; height: 40px; }
.services-carousel .carousel-dots { margin-top: 8px; }
.service-slide {
  display: grid;
  gap: clamp(14px, 2.6vw, 24px);
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  align-items: stretch;
}
.service-card { background: rgba(255,255,255,.08); border: 1px solid rgba(255,255,255,.18); border-radius: 14px; padding: 16px; backdrop-filter: blur(10px); display: flex; flex-direction: column; gap: 10px; text-align: left; height: 100%; }
.service-card h4 { margin: 0 0 6px; font-size: 18px; }
.service-card .price { font-weight: 800; color: var(--accent); margin: 0 0 8px; }
.service-card .desc { color: var(--muted); margin: 0 0 10px; }
html:not(.is-night) .service-card { background: rgba(255,255,255,.92); border-color: rgba(10,16,32,.15); }
html:not(.is-night) .service-card .desc { color: #4a5a76; }

/* Servicios: fondo tecnológico animado */
.tech-bg { background: radial-gradient(120% 80% at 50% -10%, #0b1220 0%, #0d1530 50%, #0a1020 100%); }
.tech-bg::before { content:""; position:absolute; inset:-50% -50% -50% -50%; background:
  repeating-linear-gradient(0deg, rgba(255,255,255,.05) 0 1px, transparent 1px 40px),
  repeating-linear-gradient(90deg, rgba(255,255,255,.05) 0 1px, transparent 1px 40px);
  transform: rotate(2deg); opacity: .35; }
.tech-bg.subtle::before { opacity: .18; }
.tech-icons { position: absolute; inset: 0; pointer-events: none; }
.icon { position: absolute; opacity: .6; filter: drop-shadow(0 6px 10px rgba(0,0,0,.35)); animation: float 18s ease-in-out infinite; }
@keyframes float { 0%,100%{ transform: translateY(0) } 50%{ transform: translateY(-8px) } }
.icon.monitor { width: 110px; height: 70px; border-radius: 8px; background: linear-gradient(180deg, #0c1530, #1c2b55); border: 2px solid rgba(255,255,255,.2); left: 6%; top: 18%; }
.icon.monitor::before { content:""; position:absolute; inset:8px 10px 18px; border-radius: 6px; background: radial-gradient(circle at 30% 30%, rgba(120,227,255,.85), rgba(9,23,46,.6) 60%, rgba(2,8,18,0.9) 100%); animation: screenGlow 6s ease-in-out infinite; opacity: .85; }
.icon.monitor::after { content:""; position:absolute; bottom:-14px; left: 50%; width: 40px; height: 14px; transform: translateX(-50%); background: rgba(255,255,255,.2); border-radius: 0 0 6px 6px; }
.icon.phone { width: 40px; height: 76px; border-radius: 10px; background: linear-gradient(180deg, #0c1530, #1c2b55); border: 2px solid rgba(255,255,255,.2); right: 10%; top: 24%; animation-duration: 22s; overflow: hidden; }
.icon.phone::before { content:""; position:absolute; inset:8px 6px 10px; border-radius: 8px; background: linear-gradient(160deg, rgba(94,231,223,.85), rgba(94,231,223,.25) 55%, rgba(10,20,35,.9)); animation: phonePulse 5.5s ease-in-out infinite; }
.icon.keyboard { width: 160px; height: 36px; border-radius: 6px; background: linear-gradient(180deg, #0c1530, #1c2b55); border: 2px solid rgba(255,255,255,.2); left: 12%; bottom: 14%; animation-duration: 20s; overflow: hidden; }
.icon.keyboard::after { content:""; position:absolute; inset: 6px; background: repeating-linear-gradient(90deg, rgba(255,255,255,.35) 0 6px, transparent 6px 12px); border-radius: 4px; opacity: .7; animation: keyWave 3s linear infinite; background-size: 180% 100%; }
.icon.code { width: 90px; height: 60px; border-radius: 8px; background: linear-gradient(180deg, #0c1530, #1c2b55); border: 2px solid rgba(255,255,255,.2); right: 18%; bottom: 18%; animation-duration: 26s; }
.icon.code::before, .icon.code::after { content:""; position:absolute; top: 50%; width: 20px; height: 2px; background: rgba(255,255,255,.8); }
.icon.code::before { left: 18px; transform: translateY(-50%) rotate(25deg); }
.icon.code::after { right: 18px; transform: translateY(-50%) rotate(-25deg); }
.tech-sparks { position: absolute; inset: 0; pointer-events: none; overflow: hidden; }
.tech-sparks span { position: absolute; top: -20%; width: 2px; height: 160px; background: linear-gradient(180deg, rgba(120,227,255,0), rgba(120,227,255,0.65), rgba(120,227,255,0)); filter: drop-shadow(0 0 12px rgba(120,227,255,.6)); animation: spark 7s linear infinite; }
@keyframes spark { 0% { transform: translate3d(0, -20%, 0); opacity: 0; } 10% { opacity: .9; } 100% { transform: translate3d(0, 140%, 0); opacity: 0; } }
.service-aurora { position: absolute; inset: -10% -5% auto -5%; height: 70%; pointer-events: none; display: flex; align-items: center; justify-content: center; mix-blend-mode: screen; opacity: .55; }
.service-aurora span { position: absolute; width: clamp(280px, 60vw, 520px); height: clamp(280px, 60vw, 520px); border-radius: 50%; background: radial-gradient(circle at 30% 30%, rgba(94,231,223,.55), rgba(14,120,255,.1) 60%, transparent 72%); filter: blur(40px); animation: aurora 10s ease-in-out infinite alternate; }
.service-aurora span:nth-child(2) { background: radial-gradient(circle at 70% 40%, rgba(180,144,202,.6), rgba(94,231,223,.12) 60%, transparent 75%); animation-duration: 12s; }
.service-aurora span:nth-child(3) { background: radial-gradient(circle at 40% 70%, rgba(120,227,255,.5), rgba(5,26,48,.05) 65%, transparent 78%); animation-duration: 14s; }
@keyframes aurora { 0% { transform: translate(-12%, -6%) scale(0.92); opacity: .55; } 100% { transform: translate(12%, 10%) scale(1.08); opacity: .85; } }
@keyframes screenGlow { 0%,100% { opacity: .85; box-shadow: 0 0 22px rgba(120,227,255,.55); } 50% { opacity: 1; box-shadow: 0 0 36px rgba(120,227,255,.85); } }
@keyframes phonePulse { 0%,100% { transform: scale(1); opacity: .9; } 40% { transform: scale(1.05); opacity: 1; } 70% { transform: scale(0.98); opacity: .8; } }
@keyframes keyWave { 0% { background-position: 0 0; } 100% { background-position: -160px 0; } }
@keyframes clientOrb { 0% { transform: translate3d(-6%, -4%, 0) scale(0.88); opacity: .4; } 100% { transform: translate3d(8%, 6%, 0) scale(1.08); opacity: .7; } }
@keyframes moonPulse { 0%,100% { transform: scale(0.96); box-shadow: 0 0 60px rgba(120,227,255,.35), 0 0 120px rgba(120,227,255,.16); } 40% { transform: scale(1.04); box-shadow: 0 0 90px rgba(120,227,255,.55), 0 0 160px rgba(120,227,255,.24); } }
@keyframes orbitSpark { 0% { transform: translate3d(-4px, -2px, 0); opacity: .65; } 50% { opacity: 1; } 100% { transform: translate3d(120px, 60px, 0); opacity: .4; } }

/* Proyectos: carrusel */
.carousel { position: relative; width: min(100%, 960px); margin: 0 auto; padding: 0 clamp(24px, 10vw, 60px); box-sizing: border-box; }
.carousel-stage { position: relative; width: 100%; }
.carousel-slide { display: flex; justify-content: center; padding: 0 clamp(16px, 6vw, 28px); }
.carousel-slide > * { width: clamp(220px, calc(100vw - 5cm), 340px); }
.carousel-slide .thumb { height: clamp(128px, 44vw, 188px); }
.carousel-btns { display: flex; justify-content: center; gap: 10px; margin-top: 16px; }
.carousel button.nav { width: 44px; height: 44px; border-radius: 999px; border: 1px solid var(--btn-border); background: var(--btn-bg); color: var(--fg); font-size: 20px; line-height: 1; }
.carousel-dots { display: flex; justify-content: center; gap: 6px; margin-top: 10px; }
.carousel-dots .dot { width: 9px; height: 9px; border-radius: 999px; background: rgba(255,255,255,.25); border: none; padding: 0; cursor: pointer; }
.carousel-dots .dot.active { background: var(--accent); box-shadow: 0 0 8px color-mix(in oklab, var(--accent), transparent 60%); }
.fade-in { animation: fadeIn .35s ease; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(12px);} to { opacity: 1; transform: translateY(0);} }

/* Clientes */
.clients-page .bg { opacity: .6; overflow: hidden; }
.clients-orbs { position: absolute; inset: -20% -25% 0 -25%; pointer-events: none; }
.clients-orbs span {
  position: absolute;
  width: clamp(160px, 28vw, 260px);
  height: clamp(160px, 28vw, 260px);
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, rgba(94,231,223,.45), transparent 70%);
  top: calc(8% + 11% * var(--i, 1));
  left: calc(6% + 16% * var(--i, 1));
  opacity: .45;
  animation: clientOrb 20s ease-in-out infinite alternate;
  filter: blur(0);
}
.clients-orbs span:nth-child(odd) { background: radial-gradient(circle at 60% 40%, rgba(180,144,202,.5), transparent 72%); }
.clients-orbs span:nth-child(3n) { background: radial-gradient(circle at 40% 70%, rgba(120,227,255,.4), transparent 68%); }
.clients { position: relative; z-index: 1; }
.clients .carousel { width: min(100%, 1040px); padding: 0 clamp(18px, 6vw, 48px); }
.clients .carousel-slide { padding: 0; }
.clients .carousel-slide > .clients-slide { width: 100%; }
.clients-slide {
  display: grid;
  gap: clamp(18px, 3vw, 28px);
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  align-items: stretch;
  margin-top: clamp(32px, 6vw, 48px);
}
.client-card {
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.18);
  border-radius: 18px;
  padding: clamp(18px, 3vw, 26px);
  text-align: left;
  display: grid;
  gap: 12px;
  backdrop-filter: blur(12px) saturate(120%);
  transition: transform .2s ease, border-color .25s ease, background .25s ease;
  height: 100%;
}
.client-card:hover { transform: translateY(-4px); border-color: rgba(255,255,255,.32); background: rgba(255,255,255,.12); }
.client-card header { display: grid; gap: 8px; }
.client-card h2 { margin: 0; font-size: clamp(18px, 4vw, 22px); }
.client-card .year { margin: 0; font-size: 13px; color: color-mix(in oklab, var(--muted), #fff 20%); letter-spacing: 0.08em; text-transform: uppercase; }
.client-pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  padding: 6px 12px;
  border-radius: 999px;
  background: rgba(120,227,255,.18);
  color: color-mix(in oklab, var(--accent), #ffffff 10%);
  letter-spacing: 0.08em;
  text-transform: uppercase;
}
.client-card .impact { font-weight: 600; color: var(--fg); }
.clients-cta {
  margin-top: clamp(36px, 8vw, 60px);
  display: grid;
  gap: 10px;
  justify-items: center;
}
.clients-cta h3 { margin: 0; font-size: clamp(20px, 5vw, 26px); }
.clients-cta p { margin: 0; color: var(--muted); }

/* Footer corporativo */
.site-footer { position: relative; isolation: isolate; }
.footer-bg { position: absolute; inset: 0; background: radial-gradient(120% 110% at 50% 0%, rgba(120,227,255,0.2), rgba(18,28,44,0.96)); opacity: .8; z-index: -2; }
.footer-glow { position: absolute; inset: 12% 20%; border-radius: 50%; background: radial-gradient(circle, rgba(94,231,223,.18), transparent 70%); filter: blur(60px); z-index: -1; }
.footer-shell { position: relative; z-index: 1; display: grid; gap: clamp(24px, 6vw, 40px); text-align: left; max-width: 1080px; }
.footer-brand { display: grid; gap: 12px; max-width: 520px; }
.footer-brand .badge { display: inline-flex; align-items: center; justify-content: flex-start; gap: 8px; font-weight: 700; letter-spacing: 0.12em; padding: 8px 14px; border-radius: 999px; background: rgba(255,255,255,.12); border: 1px solid rgba(255,255,255,.18); text-transform: uppercase; font-size: 12px; width: fit-content; }
.footer-brand p { margin: 0; color: color-mix(in oklab, var(--fg), #9fb4d4 35%); font-size: clamp(14px, 2.8vw, 16px); }
.footer-grid { display: grid; gap: clamp(16px, 3vw, 24px); grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }
.footer-grid h3 { margin: 0 0 12px; font-size: 16px; text-transform: uppercase; letter-spacing: 0.1em; color: color-mix(in oklab, var(--fg), #d3e2ff 10%); }
.footer-grid ul { list-style: none; margin: 0; padding: 0; display: grid; gap: 8px; }
.footer-grid a { color: var(--fg); text-decoration: none; font-weight: 500; transition: color .2s ease; }
.footer-grid a:hover { color: var(--accent); }
.footer-meta { display: flex; flex-wrap: wrap; gap: 14px clamp(18px, 3vw, 28px); font-size: 13px; color: color-mix(in oklab, var(--muted), #fff 20%); }
@media (max-width: 640px) {
  .footer-meta { flex-direction: column; gap: 8px; }
}

/* Contacto: form */
.form { display: grid; gap: 12px; width: min(720px, 100%); margin: 0 auto; text-align: left; }
.field { display: grid; gap: 6px; }
.field label { font-weight: 700; font-size: 14px; color: var(--muted); }
.input, .textarea, .select { background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.16); color: var(--fg); padding: 12px 12px; border-radius: 10px; outline: none; }
.input::placeholder, .textarea::placeholder { color: color-mix(in oklab, var(--fg), #c0c8d6 40%); opacity: .9; }
html:not(.is-night) .input, html:not(.is-night) .textarea, html:not(.is-night) .select { background: rgba(255,255,255,.92); color: #0a1020; border-color: rgba(10,16,32,.2); }
html:not(.is-night) .input::placeholder, html:not(.is-night) .textarea::placeholder { color: #5b6b85; opacity: .9; }
.textarea { min-height: 120px; resize: vertical; }
.helper { color: var(--muted); font-size: 12px; }

/* Jungla vibe */
.jungle-bg { background: linear-gradient(180deg, #e6fff4, #b9f2d7 40%, #6fcd9f 80%, #3f9f78); }
.is-night .jungle-bg { background: linear-gradient(180deg, #203a35, #18322d 50%, #122824 80%, #0d201b); }
.jungle-bg::after { content:""; position: absolute; inset: 0; background: linear-gradient(180deg, rgba(10,16,32,0) 0%, rgba(10,16,32,.05) 50%, rgba(10,16,32,.12) 100%); pointer-events: none; }
.is-night .jungle-bg::after { background: linear-gradient(180deg, rgba(10,16,32,0) 0%, rgba(10,16,32,.03) 50%, rgba(10,16,32,.08) 100%); }
.vines { position: absolute; inset: 0 0 0 0; pointer-events: none; }
.vine { position: absolute; width: 2px; height: 40vh; background: rgba(0,0,0,.15); left: 12%; top: 0; border-radius: 2px; }
.vine.v2 { left: 36%; height: 46vh; }
.vine.v3 { left: 72%; height: 52vh; }
.fireflies { position: absolute; inset: 0; pointer-events: none; }
.firefly { position: absolute; width: 4px; height: 4px; border-radius: 50%; background: #d9ff87; box-shadow: 0 0 8px #d9ff87; animation: flick 2.4s ease-in-out infinite; }
@keyframes flick { 0%,100% { opacity: .4; transform: translateY(0) } 50% { opacity: 1; transform: translateY(-6px) } }

/* Accesibilidad: reducir movimiento */
@media (prefers-reduced-motion: reduce) {
  .planet, .cloud, .ncloud, .stars span, .bird, .tree, .spaceship, .shooting-star, .firefly,
  .tech-sparks span, .service-aurora span, .clients-orbs span { animation: none !important; transition: none !important; }
  .viewport { scroll-behavior: auto; }
}
